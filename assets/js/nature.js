function setCanvasSize(){let t=Math.min(.98*window.innerWidth,TARGET_WIDTH),a=t/2;canvas.style.width=`${t}px`,canvas.style.height=`${a}px`;const e=window.devicePixelRatio||1;canvas.width=t*e,canvas.height=a*e,ctx.scale(e,e),canvas.style.display="block",canvas.style.margin="20px auto"}function createParticles(){for(let t=0;t<4;t++)particles.push(new Particle(Math.random()*TARGET_WIDTH,Math.random()*TARGET_HEIGHT))}function handleParticles(){for(let t=0;t<particles.length;t++){particles[t].update(),particles[t].draw();for(let a=t;a<particles.length;a++){const e=particles[t].x-particles[a].x,s=particles[t].y-particles[a].y;Math.sqrt(e*e+s*s)<canvas.width/TARGET_WIDTH*100&&(ctx.beginPath(),ctx.strokeStyle=particles[t].color,ctx.lineWidth=canvas.width/TARGET_WIDTH*.2,ctx.moveTo(particles[t].x,particles[t].y),ctx.lineTo(particles[a].x,particles[a].y),ctx.stroke())}particles[t].size<=canvas.width/TARGET_WIDTH*.2&&(particles.splice(t,1),t--)}}function animate(){ctx.clearRect(0,0,canvas.width,canvas.height),handleParticles(),createParticles(),requestAnimationFrame(animate)}const canvas=document.createElement("canvas");document.body.appendChild(canvas);const ctx=canvas.getContext("2d"),TARGET_WIDTH=800,TARGET_HEIGHT=400;setCanvasSize(),window.addEventListener("resize",setCanvasSize);class Particle{constructor(t,a){this.x=t*(canvas.width/TARGET_WIDTH),this.y=a*(canvas.height/TARGET_HEIGHT),this.size=(5*Math.random()+1)*(canvas.width/TARGET_WIDTH),this.speedX=.6*(3*Math.random()-1.5)*(canvas.width/TARGET_WIDTH),this.speedY=.6*(3*Math.random()-1.5)*(canvas.height/TARGET_HEIGHT),this.color=`hsl(${360*Math.random()}, 100%, 50%)`}update(){this.x+=this.speedX,this.y+=this.speedY,this.size>canvas.width/TARGET_WIDTH*.2&&(this.size-=canvas.width/TARGET_WIDTH*.1)}draw(){ctx.fillStyle=this.color,ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill()}}let particles=[];const mouse={x:null,y:null,radius:canvas.width/TARGET_WIDTH*150};canvas.addEventListener("mousemove",t=>{const a=canvas.getBoundingClientRect(),e=canvas.width/a.width,s=canvas.height/a.height;mouse.x=(t.clientX-a.left)*e,mouse.y=(t.clientY-a.top)*s;for(let t=0;t<6;t++)particles.push(new Particle(mouse.x*(TARGET_WIDTH/canvas.width),mouse.y*(TARGET_HEIGHT/canvas.height)))}),animate();