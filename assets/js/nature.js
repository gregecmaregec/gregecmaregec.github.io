document.addEventListener("DOMContentLoaded",()=>{function t(){const t=o.parentElement.getBoundingClientRect();o.width=t.width,o.height=t.height}function e(){for(let t=0;t<5;t++)r.push(new a(Math.random()*o.width,Math.random()*o.height))}function n(){for(let t=0;t<r.length;t++){r[t].update(),r[t].draw();for(let e=t;e<r.length;e++){const n=r[t].x-r[e].x,i=r[t].y-r[e].y;Math.sqrt(n*n+i*i)<100&&(h.beginPath(),h.strokeStyle=r[t].color,h.lineWidth=.2,h.moveTo(r[t].x,r[t].y),h.lineTo(r[e].x,r[e].y),h.stroke())}r[t].size<=.2&&(r.splice(t,1),t--)}}function i(){h.clearRect(0,0,o.width,o.height),n(),e(),requestAnimationFrame(i)}function s(t,e){const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}const o=document.querySelector("#crystalCanvas canvas"),h=o.getContext("2d");t(),window.addEventListener("resize",t);class a{constructor(t,e){this.x=t,this.y=e,this.size=5*Math.random()+1,this.speedX=3*Math.random()-1.5,this.speedY=3*Math.random()-1.5,this.color=`hsl(${360*Math.random()}, 100%, 50%)`}update(){this.x+=this.speedX,this.y+=this.speedY,this.size>.2&&(this.size-=.1)}draw(){h.fillStyle=this.color,h.beginPath(),h.arc(this.x,this.y,this.size,0,2*Math.PI),h.fill()}}let r=[];const d={x:null,y:null,radius:150};o.addEventListener("mousemove",t=>{const e=s(o,t);d.x=e.x,d.y=e.y;for(let t=0;t<5;t++)r.push(new a(d.x,d.y))}),i()});