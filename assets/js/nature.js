document.addEventListener("DOMContentLoaded",()=>{function t(){window.innerWidth<=400?(o.width=.995*window.innerWidth,o.height=400):(o.width=800,o.height=400),h.style.width=`${o.width}px`,h.style.height=`${o.height}px`,h.style.margin="0 auto",h.style.display="block"}function e(){for(let t=0;t<5;t++)l.push(new a(Math.random()*o.width,Math.random()*o.height))}function i(){for(let t=0;t<l.length;t++){l[t].update(),l[t].draw();for(let e=t;e<l.length;e++){const i=l[t].x-l[e].x,n=l[t].y-l[e].y;Math.sqrt(i*i+n*n)<100&&(d.beginPath(),d.strokeStyle=l[t].color,d.lineWidth=.2,d.moveTo(l[t].x,l[t].y),d.lineTo(l[e].x,l[e].y),d.stroke())}l[t].size<=.2&&(l.splice(t,1),t--)}}function n(){d.clearRect(0,0,o.width,o.height),i(),e(),requestAnimationFrame(n)}function s(t,e){const i=t.getBoundingClientRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}const h=document.getElementById("crystalCanvas"),o=document.createElement("canvas");h.appendChild(o);const d=o.getContext("2d");t(),window.addEventListener("resize",t);class a{constructor(t,e){this.x=t,this.y=e,this.size=5*Math.random()+1,this.speedX=3*Math.random()-1.5,this.speedY=3*Math.random()-1.5,this.color=`hsl(${360*Math.random()}, 100%, 50%)`}update(){this.x+=this.speedX,this.y+=this.speedY,this.size>.2&&(this.size-=.1)}draw(){d.fillStyle=this.color,d.beginPath(),d.arc(this.x,this.y,this.size,0,2*Math.PI),d.fill()}}let l=[];const r={x:null,y:null,radius:150};o.addEventListener("mousemove",t=>{const e=s(o,t);r.x=e.x,r.y=e.y;for(let t=0;t<5;t++)l.push(new a(r.x,r.y))}),n()});