document.addEventListener("DOMContentLoaded",()=>{function t(){const t=o.clientWidth;h.width=t,h.height=t/2}function e(){for(let t=0;t<5;t++)d.push(new l(Math.random()*h.width,Math.random()*h.height))}function n(){for(let t=0;t<d.length;t++){d[t].update(),d[t].draw();for(let e=t;e<d.length;e++){const n=d[t].x-d[e].x,i=d[t].y-d[e].y;Math.sqrt(n*n+i*i)<100&&(a.beginPath(),a.strokeStyle=d[t].color,a.lineWidth=.2,a.moveTo(d[t].x,d[t].y),a.lineTo(d[e].x,d[e].y),a.stroke())}d[t].size<=.2&&(d.splice(t,1),t--)}}function i(){a.clearRect(0,0,h.width,h.height),n(),e(),requestAnimationFrame(i)}function s(t,e){const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}const o=document.getElementById("crystalCanvas").parentElement,h=document.createElement("canvas");o.appendChild(h);const a=h.getContext("2d");t(),window.addEventListener("resize",t),o.style.padding="0",o.style.width="100vw",o.style.marginLeft="calc(-50vw + 50%)",o.style.marginRight="calc(-50vw + 50%)";class l{constructor(t,e){this.x=t,this.y=e,this.size=5*Math.random()+1,this.speedX=3*Math.random()-1.5,this.speedY=3*Math.random()-1.5,this.color=`hsl(${360*Math.random()}, 100%, 50%)`}update(){this.x+=this.speedX,this.y+=this.speedY,this.size>.2&&(this.size-=.1)}draw(){a.fillStyle=this.color,a.beginPath(),a.arc(this.x,this.y,this.size,0,2*Math.PI),a.fill()}}let d=[];const c={x:null,y:null,radius:150};h.addEventListener("mousemove",t=>{const e=s(h,t);c.x=e.x,c.y=e.y;for(let t=0;t<5;t++)d.push(new l(c.x,c.y))}),i()});