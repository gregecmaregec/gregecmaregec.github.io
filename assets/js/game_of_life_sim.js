function createGrid(){const n=new Array(numBlocksX);for(let t=0;t<numBlocksX;t++)n[t]=new Array(numBlocksY);return n}function initializeGrid(){for(let n=0;n<numBlocksX;n++)for(let t=0;t<numBlocksY;t++)grid[n][t]=Math.random()<.3?1:0}function animate(){updateGrid(),drawGrid(),timerId=setTimeout(animate,100)}function updateGrid(){const n=createGrid();for(let t=0;t<numBlocksX;t++)for(let i=0;i<numBlocksY;i++){const e=countNeighbors(t,i),o=1===grid[t][i];n[t][i]=o&&(e<2||e>3)?0:o||3!==e?grid[t][i]:1}grid=n}function countNeighbors(n,t){let i=0;for(let e=-1;e<=1;e++)for(let o=-1;o<=1;o++){if(0===e&&0===o)continue;const a=n+e,c=t+o;a>=0&&a<numBlocksX&&c>=0&&c<numBlocksY&&(i+=grid[a][c])}return i}function drawGrid(){ctx.clearRect(0,0,canvas.width,canvas.height);for(let t=0;t<numBlocksX;t++)for(let i=0;i<numBlocksY;i++){if(1===grid[t][i]){const t=n();ctx.fillStyle=t}else ctx.fillStyle="rgba(0, 0, 0, 0)";function n(){return`hsl(${Math.floor(360*Math.random())}, ${Math.floor(30*Math.random())+70}%, ${Math.floor(30*Math.random())+70}%)`}const e=t*blockSize,o=i*blockSize;ctx.fillRect(e,o,blockSize,blockSize)}}const canvas=document.createElement("canvas");document.body.appendChild(canvas);const ctx=canvas.getContext("2d"),numBlocksX=90,numBlocksY=90,maxDimension=Math.min(window.innerWidth,window.innerHeight),canvasSize=Math.min(maxDimension,500);canvas.width=canvasSize,canvas.height=canvasSize,canvas.style.marginLeft=`${(window.innerWidth-canvasSize)/2}px`;const blockSize=canvasSize/Math.max(numBlocksX,numBlocksY);let animationId,timerId,grid=createGrid();initializeGrid(),animate(),setTimeout(()=>{cancelAnimationFrame(animationId)},12e4),setTimeout(()=>{clearTimeout(timerId)},12e4);