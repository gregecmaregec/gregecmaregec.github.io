function createGrid(){const n=new Array(numBlocksX);for(let t=0;t<numBlocksX;t++)n[t]=new Array(numBlocksY);return n}function initializeGrid(){for(let n=0;n<numBlocksX;n++)for(let t=0;t<numBlocksY;t++)grid[n][t]=Math.random()<.5?1:0}function animate(){updateGrid(),drawGrid(),requestAnimationFrame(animate)}function updateGrid(){const n=createGrid();for(let t=0;t<numBlocksX;t++)for(let i=0;i<numBlocksY;i++){const e=countNeighbors(t,i),o=1===grid[t][i];n[t][i]=o&&(e<2||e>3)?0:o||3!==e?grid[t][i]:1}grid=n}function countNeighbors(n,t){let i=0;for(let e=-1;e<=1;e++)for(let o=-1;o<=1;o++){if(0===e&&0===o)continue;const c=n+e,a=t+o;c>=0&&c<numBlocksX&&a>=0&&a<numBlocksY&&(i+=grid[c][a])}return i}function drawGrid(){ctx.clearRect(0,0,canvas.width,canvas.height);for(let n=0;n<numBlocksX;n++)for(let t=0;t<numBlocksY;t++){const i=1===grid[n][t];ctx.fillStyle=i?"black":"white";const e=offsetX+n*blockSize,o=offsetY+t*blockSize;ctx.fillRect(e,o,blockSize,blockSize)}}const canvas=document.createElement("canvas");document.body.appendChild(canvas);const ctx=canvas.getContext("2d"),maxDimension=Math.max(window.innerWidth,window.innerHeight);canvas.width=maxDimension,canvas.height=maxDimension;const blockSize=maxDimension/Math.max(numBlocksX,numBlocksY),offsetX=(canvas.width-numBlocksX*blockSize)/2,offsetY=(canvas.height-numBlocksY*blockSize)/2;let grid=createGrid();initializeGrid(),animate();