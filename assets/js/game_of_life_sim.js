function createGrid(){const n=new Array(numBlocksX);for(let i=0;i<numBlocksX;i++)n[i]=new Array(numBlocksY);return n}function initializeGrid(){for(let n=0;n<numBlocksX;n++)for(let i=0;i<numBlocksY;i++)grid[n][i]=Math.random()<.3?1:0}function animate(){updateGrid(),drawGrid(),timerId=setTimeout(animate,130)}function updateGrid(){const n=createGrid();for(let i=0;i<numBlocksX;i++)for(let t=0;t<numBlocksY;t++){const e=countNeighbors(i,t),c=1===grid[i][t];n[i][t]=c&&(e<2||e>3)?0:c||3!==e?grid[i][t]:1}grid=n}function countNeighbors(n,i){let t=0;for(let e=-1;e<=1;e++)for(let c=-1;c<=1;c++){if(0===e&&0===c)continue;const a=n+e,o=i+c;a>=0&&a<numBlocksX&&o>=0&&o<numBlocksY&&(t+=grid[a][o])}return t}function drawGrid(){ctx.clearRect(0,0,canvas.width,canvas.height);for(let n=0;n<numBlocksX;n++)for(let i=0;i<numBlocksY;i++){const t=1===grid[n][i];ctx.fillStyle=t?"rgba(255, 192, 203, 0.99)":"rgba(0, 0, 0, 0)";const e=n*blockSize,c=i*blockSize;ctx.fillRect(e,c,blockSize,blockSize)}}const canvas=document.createElement("canvas");document.body.appendChild(canvas);const ctx=canvas.getContext("2d"),numBlocksX=90,numBlocksY=90,maxDimension=Math.min(window.innerWidth,window.innerHeight),canvasSize=Math.min(maxDimension,500);canvas.width=canvasSize,canvas.height=canvasSize,canvas.style.marginLeft=`${(window.innerWidth-canvasSize)/2}px`;const blockSize=canvasSize/Math.max(numBlocksX,numBlocksY);let animationId,timerId,grid=createGrid();initializeGrid(),animate(),setTimeout(()=>{cancelAnimationFrame(animationId)},12e4),setTimeout(()=>{clearTimeout(timerId)},12e4);