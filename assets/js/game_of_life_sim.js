function createGrid(){const n=new Array(numBlocksX);for(let t=0;t<numBlocksX;t++)n[t]=new Array(numBlocksY);return n}function initializeGrid(){for(let n=0;n<numBlocksX;n++)for(let t=0;t<numBlocksY;t++)grid[n][t]=Math.random()<.5?1:0}function animate(){updateGrid(),drawGrid(),requestAnimationFrame(animate)}function updateGrid(){const n=createGrid();for(let t=0;t<numBlocksX;t++)for(let c=0;c<numBlocksY;c++){const e=countNeighbors(t,c),i=1===grid[t][c];n[t][c]=i&&(e<2||e>3)?0:i||3!==e?grid[t][c]:1}grid=n}function countNeighbors(n,t){let c=0;for(let e=-1;e<=1;e++)for(let i=-1;i<=1;i++){if(0===e&&0===i)continue;const o=n+e,a=t+i;o>=0&&o<numBlocksX&&a>=0&&a<numBlocksY&&(c+=grid[o][a])}return c}function drawGrid(){ctx.clearRect(0,0,canvas.width,canvas.height);for(let n=0;n<numBlocksX;n++)for(let t=0;t<numBlocksY;t++){const c=1===grid[n][t];ctx.fillStyle=c?"black":"white",ctx.fillRect(n*blockSize,t*blockSize,blockSize,blockSize)}}const canvas=document.createElement("canvas");document.body.appendChild(canvas);const ctx=canvas.getContext("2d");canvas.width=400,canvas.height=400;const blockSize=4,numBlocksX=canvas.width/blockSize,numBlocksY=canvas.height/blockSize;let grid=createGrid();initializeGrid(),animate();