function adjustTextareaHeight(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"}function modelChoice(e){selectedModel=e,document.querySelectorAll("#modelSelectorContainer button").forEach(t=>{t.getAttribute("data-model")!==e&&(t.style.border="1px solid rgba(0, 0, 0, 0.3)",t.style.borderBottom="2px solid rgba(204, 204, 204, 0.3)",t.style.borderRight="1px solid rgba(68, 68, 68, 0.3)")});var t=document.querySelector(`button[data-model="${e}"]`);t&&(t.style.borderBottom="2px solid rgba(139, 0, 0, 0.8)")}let selectedModel="llama3.1",messageHistory=[];document.getElementById("inputBox").addEventListener("keydown",function(e){if("Enter"===e.key)if(e.shiftKey){e.preventDefault();const t=this.selectionStart,n=this.selectionEnd,d=this.value;this.value=d.substring(0,t)+"\n"+d.substring(n),this.selectionStart=this.selectionEnd=t+1,adjustTextareaHeight(this)}else{e.preventDefault();var t=this.value,n=document.getElementById("outputBox"),d=document.getElementById("loader"),o=document.getElementById("inputBox");const s=document.createElement("strong");s.textContent="You";const l=document.createTextNode(t);n.appendChild(s),n.appendChild(document.createElement("br")),n.appendChild(l),n.appendChild(document.createElement("br")),n.appendChild(document.createElement("br")),messageHistory.push({role:"user",content:t});const a={model:selectedModel,messages:[...messageHistory],options:{temperature:.6,num_thread:8}};d.style.display="block",o.disabled=!0,fetch("https://gmserver.xyz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>e.text()).then(e=>{const t=document.createElement("strong");t.textContent=selectedModel.charAt(0).toUpperCase()+selectedModel.slice(1),n.appendChild(t),n.appendChild(document.createElement("br")),n.style.whiteSpace="pre-wrap",(e=e.trim()).split("\n").forEach((e,t,d)=>{const o=document.createTextNode(e);n.appendChild(o),t<d.length-1&&n.appendChild(document.createElement("br"))}),n.appendChild(document.createElement("br")),n.appendChild(document.createElement("br")),messageHistory.push({role:"assistant",content:e}),d.style.display="none",o.disabled=!1})["catch"](e=>{const t=document.createTextNode("Error: "+e.message+"\n\nexperiencing issues?");n.appendChild(t),n.appendChild(document.createElement("br")),d.style.display="none",o.disabled=!1}),this.value="",this.style.height="50px"}}),document.getElementById("inputBox").addEventListener("input",function(){adjustTextareaHeight(this)});