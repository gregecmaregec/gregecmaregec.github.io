function modelChoice(e){console.log("Model selected:",e),selectedModel=e,messageHistory=[],document.querySelectorAll("#modelSelectorContainer button").forEach(t=>{t.getAttribute("data-model")!==e&&(t.style.border="1px solid rgba(0, 0, 0, 0.3)",t.style.borderBottom="2px solid rgba(204, 204, 204, 0.3)",t.style.borderRight="1px solid rgba(68, 68, 68, 0.3)")});var t=document.querySelector(`button[data-model="${e}"]`);t&&(t.style.borderBottom="2px solid rgba(139, 0, 0, 0.8)")}let selectedModel="mistral",messageHistory=[];document.getElementById("inputBox").addEventListener("keypress",function(e){if("Enter"===e.key&&!e.shiftKey){e.preventDefault();var t=this.value.trim();if(t){messageHistory.push({role:"user",content:t});var o=document.getElementById("outputBox");const e=document.createElement("strong");e.textContent="You";const n=document.createTextNode(t);o.appendChild(e),o.appendChild(document.createElement("br")),o.appendChild(n),o.appendChild(document.createElement("br")),o.appendChild(document.createElement("br"));const d={model:selectedModel,messages:messageHistory.slice()};fetch("https://gmserver.xyz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then(e=>e.text()).then(e=>{messageHistory.push({role:"assistant",content:e});const t=document.createElement("strong");t.textContent=selectedModel.charAt(0).toUpperCase()+selectedModel.slice(1),o.appendChild(t),o.appendChild(document.createElement("br")),o.style.whiteSpace="pre-wrap",e.split("\n").forEach((e,t,n)=>{const d=document.createTextNode(e);o.appendChild(d),t<n.length-1&&o.appendChild(document.createElement("br"))}),o.appendChild(document.createElement("br")),o.appendChild(document.createElement("br"))})["catch"](e=>{const t=document.createTextNode("Error: "+e.message+"\n\n");o.appendChild(t),o.appendChild(document.createElement("br"))}),this.value="",this.style.height="50px"}}});