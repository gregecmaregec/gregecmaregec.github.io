function adjustTextareaHeight(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"}function modelChoice(e){selectedModel=e,document.querySelectorAll("#modelSelectorContainer button").forEach(t=>{t.getAttribute("data-model")===e?t.style.borderBottom="2px solid rgba(139, 0, 0, 0.8)":(t.style.border="1px solid rgba(0, 0, 0, 0.3)",t.style.borderBottom="2px solid rgba(204, 204, 204, 0.3)",t.style.borderRight="1px solid rgba(68, 68, 68, 0.3)")})}let selectedModel="llama3.1",messageHistory=[];document.addEventListener("DOMContentLoaded",function(){function e(){adjustTextareaHeight(s)}function t(e){if("Enter"===e.key)if(e.shiftKey){e.preventDefault();const t=s.selectionStart,n=s.selectionEnd;s.value=s.value.substring(0,t)+"\n"+s.value.substring(n),s.selectionStart=s.selectionEnd=t+1,adjustTextareaHeight(s)}else e.preventDefault(),n()}function n(){const e=s.value.trim();if(!e)return;o("You",e),messageHistory.push({role:"user",content:e});const t={model:selectedModel,messages:[...messageHistory],options:{temperature:.6,num_thread:8}};d.style.display="block",s.disabled=!0,fetch("https://gmserver.xyz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.text()).then(e=>{o(selectedModel.charAt(0).toUpperCase()+selectedModel.slice(1),e.trim()),messageHistory.push({role:"assistant",content:e.trim()})})["catch"](e=>{o("Error",e.message+"\n\nexperiencing issues?")})["finally"](()=>{d.style.display="none",s.disabled=!1}),s.value="",s.style.height="50px"}function o(e,t){const n=document.createElement("strong");n.textContent=e,l.appendChild(n),l.appendChild(document.createElement("br")),t.split("\n").forEach((e,t,n)=>{l.appendChild(document.createTextNode(e)),t<n.length-1&&l.appendChild(document.createElement("br"))}),l.appendChild(document.createElement("br")),l.appendChild(document.createElement("br")),l.scrollTop=l.scrollHeight}const s=document.getElementById("inputBox"),l=document.getElementById("outputBox"),d=document.getElementById("loader");s.addEventListener("input",e),s.addEventListener("keydown",t)});