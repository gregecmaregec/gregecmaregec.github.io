function adjustTextareaHeight(e){const t=parseInt(window.getComputedStyle(e).lineHeight),n=parseInt(window.getComputedStyle(e).paddingTop)+parseInt(window.getComputedStyle(e).paddingBottom),o=e.value.split("\n").length*t+n;o!==e.clientHeight&&(e.style.height=o+"px")}function modelChoice(e){selectedModel=e,document.querySelectorAll("#modelSelectorContainer button").forEach(t=>{t.getAttribute("data-model")!==e&&(t.style.border="1px solid rgba(0, 0, 0, 0.3)",t.style.borderBottom="2px solid rgba(204, 204, 204, 0.3)",t.style.borderRight="1px solid rgba(68, 68, 68, 0.3)")});var t=document.querySelector(`button[data-model="${e}"]`);t&&(t.style.borderBottom="2px solid rgba(139, 0, 0, 0.8)")}let selectedModel="llama3.1",messageHistory=[];document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("inputBox"),t=document.getElementById("outputBox"),n=document.getElementById("loader");e.addEventListener("input",function(){this.value.includes("\n")?adjustTextareaHeight(this):this.style.height="50px"}),e.addEventListener("keydown",function(o){if("Enter"===o.key)if(o.shiftKey){o.preventDefault();const e=this.selectionStart,t=this.selectionEnd;this.value=this.value.substring(0,e)+"\n"+this.value.substring(t),this.selectionStart=this.selectionEnd=e+1,adjustTextareaHeight(this)}else{o.preventDefault();var d=this.value;if(""===d.trim())return;const s=document.createElement("strong");s.textContent="You";const l=document.createTextNode(d);t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(l),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),messageHistory.push({role:"user",content:d});const i={model:selectedModel,messages:[...messageHistory],options:{temperature:.6,num_thread:8}};n.style.display="block",this.disabled=!0,fetch("https://gmserver.xyz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(e=>e.text()).then(o=>{const d=document.createElement("strong");d.textContent=selectedModel.charAt(0).toUpperCase()+selectedModel.slice(1),t.appendChild(d),t.appendChild(document.createElement("br")),t.style.whiteSpace="pre-wrap",(o=o.trim()).split("\n").forEach((e,n,o)=>{const d=document.createTextNode(e);t.appendChild(d),n<o.length-1&&t.appendChild(document.createElement("br"))}),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),messageHistory.push({role:"assistant",content:o}),n.style.display="none",e.disabled=!1,t.scrollTop=t.scrollHeight})["catch"](o=>{const d=document.createTextNode("Error: "+o.message+"\n\nexperiencing issues?");t.appendChild(d),t.appendChild(document.createElement("br")),n.style.display="none",e.disabled=!1,t.scrollTop=t.scrollHeight}),this.value="",this.style.height="50px"}})});