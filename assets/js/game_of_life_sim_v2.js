function createGrid(){const t=new Array(numBlocksX);for(let n=0;n<numBlocksX;n++)t[n]=new Array(numBlocksY);return t}function initializeGrid(){for(let t=0;t<numBlocksX;t++)for(let n=0;n<numBlocksY;n++)grid[t][n]=Math.random()<.1?1:0}function animate(){updateGrid(),drawGrid(),timerId=setTimeout(animate,200)}function updateGrid(){const t=createGrid();for(let n=0;n<numBlocksX;n++)for(let e=0;e<numBlocksY;e++){const c=countNeighbors(n,e),a=1===grid[n][e];t[n][e]=a&&(c<2||c>3)?0:a||3!==c?grid[n][e]:1}grid=t}function countNeighbors(t,n){let e=0;for(let c=-1;c<=1;c++)for(let a=-1;a<=1;a++){if(0===c&&0===a)continue;const i=t+c,o=n+a;i>=0&&i<numBlocksX&&o>=0&&o<numBlocksY&&(e+=grid[i][o])}return e}function drawGrid(){ctx1.clearRect(0,0,canvas1.width,canvas1.height),ctx2.clearRect(0,0,canvas2.width,canvas2.height);for(let t=0;t<numBlocksX;t++)for(let n=0;n<numBlocksY;n++){const e=1===grid[t][n];ctx1.fillStyle=ctx2.fillStyle=e?"rgba(255, 41, 70, 0.8)":"rgba(0, 0, 0, 0)";const c=t*blockSizeX,a=n*blockSizeY;ctx1.fillRect(c,a,blockSizeX,blockSizeY),ctx2.fillRect(c,a,blockSizeX,blockSizeY)}}const canvas1=document.createElement("canvas"),canvas2=document.createElement("canvas");document.body.appendChild(canvas1),document.body.appendChild(canvas2);const ctx1=canvas1.getContext("2d"),ctx2=canvas2.getContext("2d"),numBlocksX=50,numBlocksY=50,maxDimension=Math.min(window.innerWidth,window.innerHeight);canvas1.width=250,canvas1.height=500,canvas2.width=250,canvas2.height=500,canvas1.style.position="absolute",canvas1.style.left="0px",canvas1.style.top="50%",canvas1.style.transform="translateY(-50%)",canvas2.style.position="absolute",canvas2.style.left="50%",canvas2.style.top="50%",canvas2.style.transform="translate(-50%, -50%)";const blockSizeX=canvas1.width/numBlocksX,blockSizeY=canvas1.height/numBlocksY;let timerId,grid=createGrid();initializeGrid(),animate(),setTimeout(()=>{clearTimeout(timerId)},6e4);