function createGrid(){const t=new Array(numBlocks);for(let e=0;e<numBlocks;e++)t[e]=new Array(numBlocks);return t}function initializeGrid(){for(let t=0;t<numBlocks;t++)for(let e=0;e<numBlocks;e++)grid[t][e]=Math.random()<.3?1:0}function animate(){updateGrid(),drawGrid(),timerId=setTimeout(animate,200)}function updateGrid(){const t=createGrid();for(let e=0;e<numBlocks;e++)for(let i=0;i<numBlocks;i++){const n=countNeighbors(e,i),a=1===grid[e][i];t[e][i]=a&&(n<2||n>3)?0:a||3!==n?grid[e][i]:1}grid=t}function countNeighbors(t,e){let i=0;for(let n=-1;n<=1;n++)for(let a=-1;a<=1;a++){if(0===n&&0===a)continue;const l=t+n,o=e+a;l>=0&&l<numBlocks&&o>=0&&o<numBlocks&&(i+=grid[l][o])}return i}function drawGrid(){leftCtx.clearRect(0,0,leftCanvas.width,leftCanvas.height),rightCtx.clearRect(0,0,rightCanvas.width,rightCanvas.height);for(let t=0;t<numBlocks;t++)for(let e=0;e<numBlocks;e++){1===grid[t][e]?(leftCtx.fillStyle="rgba(139, 0, 0, 0.8)",rightCtx.fillStyle="rgba(139, 0, 0, 0.8)"):(leftCtx.fillStyle="rgba(0, 0, 0, 0)",rightCtx.fillStyle="rgba(0, 0, 0, 0)");const i=t*blockSize,n=e*blockSize;leftCtx.fillRect(i,n,blockSize,blockSize),rightCtx.fillRect(i,n,blockSize,blockSize)}}const leftCanvas=document.createElement("canvas");document.body.appendChild(leftCanvas);const rightCanvas=document.createElement("canvas");document.body.appendChild(rightCanvas);const leftCtx=leftCanvas.getContext("2d"),rightCtx=rightCanvas.getContext("2d"),numBlocks=50,blockSize=Math.floor(175/numBlocks),canvasSize=blockSize*numBlocks;leftCanvas.width=canvasSize,leftCanvas.height=canvasSize,rightCanvas.width=canvasSize,rightCanvas.height=canvasSize,leftCanvas.style.position="absolute",leftCanvas.style.left="0",rightCanvas.style.position="absolute",rightCanvas.style.right="0";let animationId,timerId,grid=createGrid();initializeGrid(),animate(),setTimeout(()=>{cancelAnimationFrame(animationId)},12e4),setTimeout(()=>{clearTimeout(timerId)},12e4);