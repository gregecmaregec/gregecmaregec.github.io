function createGrid(){const t=new Array(numBlocksX);for(let e=0;e<numBlocksX;e++)t[e]=new Array(numBlocksY);return t}function initializeGrid(){for(let t=0;t<numBlocksX;t++)for(let e=0;e<numBlocksY;e++)grid[t][e]=Math.random()<.3?1:0}function animate(){updateGrid(),drawGrid(),timerId=setTimeout(animate,200)}function updateGrid(){const t=createGrid();for(let e=0;e<numBlocksX;e++)for(let i=0;i<numBlocksY;i++){const n=countNeighbors(e,i),a=1===grid[e][i];t[e][i]=a&&(n<2||n>3)?0:a||3!==n?grid[e][i]:1}grid=t}function countNeighbors(t,e){let i=0;for(let n=-1;n<=1;n++)for(let a=-1;a<=1;a++){if(0===n&&0===a)continue;const l=t+n,o=e+a;l>=0&&l<numBlocksX&&o>=0&&o<numBlocksY&&(i+=grid[l][o])}return i}function drawGrid(){leftCtx.clearRect(0,0,leftCanvas.width,leftCanvas.height),rightCtx.clearRect(0,0,rightCanvas.width,rightCanvas.height);for(let t=0;t<numBlocksX;t++)for(let e=0;e<numBlocksY;e++){1===grid[t][e]?(leftCtx.fillStyle="rgba(255, 192, 203, 0.99)",rightCtx.fillStyle="rgba(255, 192, 203, 0.99)"):(leftCtx.fillStyle="rgba(0, 0, 0, 0)",rightCtx.fillStyle="rgba(0, 0, 0, 0)");const i=t*blockSize,n=e*blockSize;leftCtx.fillRect(i,n,blockSize,blockSize),rightCtx.fillRect(i,n,blockSize,blockSize)}}const leftCanvas=document.createElement("canvas");document.body.appendChild(leftCanvas);const rightCanvas=document.createElement("canvas");document.body.appendChild(rightCanvas);const leftCtx=leftCanvas.getContext("2d"),rightCtx=rightCanvas.getContext("2d"),numBlocksX=50,numBlocksY=50,maxDimension=Math.min(window.innerWidth,window.innerHeight),blockSize=maxDimension/Math.max(numBlocksX,numBlocksY),canvasSize=Math.min(maxDimension/3,350);leftCanvas.width=canvasSize,leftCanvas.height=canvasSize,leftCanvas.style.position="absolute",leftCanvas.style.left="0",rightCanvas.width=canvasSize,rightCanvas.height=canvasSize,rightCanvas.style.position="absolute",rightCanvas.style.right="0";let animationId,timerId,grid=createGrid();initializeGrid(),animate(),setTimeout(()=>{cancelAnimationFrame(animationId)},12e4),setTimeout(()=>{clearTimeout(timerId)},12e4);